<!-- SPDX-License-Identifier: GPL-3.0-only -->

<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        d:DesignWidth="375"
        d:DesignHeight="625"

        xmlns:converters="clr-namespace:Ameko.Converters"
        xmlns:i18n="clr-namespace:Ameko.I18N"
        xmlns:vm="clr-namespace:Ameko.ViewModels.Windows"

        x:Class="Ameko.Views.Windows.StyleEditorWindow"
        x:DataType="vm:StyleEditorWindowViewModel"
        Topmost="True"
        CanResize="False"
        Width="400"
        Height="625"
        Icon="/Assets/Ameko-Simplified-BG-64.ico"
        Title="{x:Static i18n:StyleEditor.StyleEditor_WindowTitle}">
    <Window.Resources>
        <converters:StyleColorConverter x:Key="ColorConverter" />
    </Window.Resources>
    <StackPanel Margin="5">
        <HeaderedContentControl Header="{x:Static i18n:StyleEditor.StyleEditor_Section_BasicInfo}">
            <StackPanel>
                <TextBlock Foreground="Red"
                           Text="{x:Static i18n:StyleEditor.StyleEditor_InvalidName}" />
                <TextBox Text="{Binding StyleName}"
                         Watermark="{x:Static i18n:StyleEditor.StyleEditor_NameBox_Watermark}" />
            </StackPanel>
        </HeaderedContentControl>
        <HeaderedContentControl Header="{x:Static i18n:StyleEditor.StyleEditor_Section_Font}">
            <StackPanel>
                <Grid ColumnDefinitions="*, *, *, *">
                    <TextBox Grid.Column="0"
                             Grid.Row="0"
                             Grid.ColumnSpan="3"
                             Margin="0 0 2 2"
                             Text="{Binding Style.FontFamily}"
                             Watermark="{x:Static i18n:StyleEditor.StyleEditor_FontFamilyBox_Watermark}" />
                    <NumericUpDown Grid.Column="3"
                                   Grid.Row="0"
                                   Padding="0"
                                   Margin="2 0 0 2"
                                   FormatString="0"
                                   Increment="1"
                                   Minimum="0"
                                   AllowSpin="True"
                                   Value="{Binding Style.FontSize}" />
                </Grid>
                <StackPanel Orientation="Horizontal"
                            Spacing="10">
                    <CheckBox IsChecked="{Binding Style.IsBold}"
                              Content="{x:Static i18n:StyleEditor.StyleEditor_CheckBox_Bold}" />
                    <CheckBox IsChecked="{Binding Style.IsItalic}"
                              Content="{x:Static i18n:StyleEditor.StyleEditor_CheckBox_Italic}" />
                    <CheckBox IsChecked="{Binding Style.IsUnderline}"
                              Content="{x:Static i18n:StyleEditor.StyleEditor_CheckBox_Underline}" />
                    <CheckBox IsChecked="{Binding Style.IsStrikethrough}"
                              Content="{x:Static i18n:StyleEditor.StyleEditor_CheckBox_Strikethrough}" />
                </StackPanel>
            </StackPanel>
        </HeaderedContentControl>
        <HeaderedContentControl Header="{x:Static i18n:StyleEditor.StyleEditor_Section_Colors}">
            <Grid ColumnDefinitions=" *, *, *, *"
                  RowDefinitions="*, *">
                <!-- Primary color -->
                <Label Grid.Column="0"
                       Grid.Row="0"
                       Content="{x:Static i18n:StyleEditor.StyleEditor_Label_Primary}"
                       HorizontalAlignment="Center" />
                <Button Grid.Column="0"
                        Grid.Row="1"
                        Height="40"
                        Padding="0"
                        Margin="1"
                        HorizontalContentAlignment="Stretch">
                    <Grid RowDefinitions="*, *">
                        <Panel Grid.Row="0"
                               Height="20"
                               Background="{Binding Style.PrimaryColor,
                                                    Converter={StaticResource ColorConverter},
                                                    ConverterParameter=false}" />
                        <Panel Grid.Row="1"
                               Height="20"
                               Background="{Binding Style.PrimaryColor,
                                                    Converter={StaticResource ColorConverter},
                                                    ConverterParameter=true}" />
                    </Grid>
                </Button>
                <!-- Secondary color -->
                <Label Grid.Column="1"
                       Grid.Row="0"
                       Content="{x:Static i18n:StyleEditor.StyleEditor_Label_Secondary}"
                       HorizontalAlignment="Center" />
                <Button Grid.Column="1"
                        Grid.Row="1"
                        Height="40"
                        Padding="0"
                        Margin="1"
                        HorizontalContentAlignment="Stretch">
                    <Grid RowDefinitions="*, *">
                        <Panel Grid.Row="0"
                               Height="20"
                               Background="{Binding Style.SecondaryColor,
                                                    Converter={StaticResource ColorConverter},
                                                    ConverterParameter=false}" />
                        <Panel Grid.Row="1"
                               Height="20"
                               Background="{Binding Style.SecondaryColor,
                                                    Converter={StaticResource ColorConverter},
                                                    ConverterParameter=true}" />
                    </Grid>
                </Button>
                <!-- Outline color -->
                <Label Grid.Column="2"
                       Grid.Row="0"
                       Content="{x:Static i18n:StyleEditor.StyleEditor_Label_Outline}"
                       HorizontalAlignment="Center" />
                <Button Grid.Column="2"
                        Grid.Row="1"
                        Height="40"
                        Padding="0"
                        Margin="1"
                        HorizontalContentAlignment="Stretch">
                    <Grid RowDefinitions="*, *">
                        <Panel Grid.Row="0"
                               Height="20"
                               Background="{Binding Style.OutlineColor,
                                                    Converter={StaticResource ColorConverter},
                                                    ConverterParameter=false}" />
                        <Panel Grid.Row="1"
                               Height="20"
                               Background="{Binding Style.OutlineColor,
                                                    Converter={StaticResource ColorConverter},
                                                    ConverterParameter=true}" />
                    </Grid>
                </Button>
                <!-- Shadow color -->
                <Label Grid.Column="3"
                       Grid.Row="0"
                       Content="{x:Static i18n:StyleEditor.StyleEditor_Label_Shadow}"
                       HorizontalAlignment="Center" />
                <Button Grid.Column="3"
                        Grid.Row="1"
                        Height="40"
                        Padding="0"
                        Margin="1"
                        HorizontalContentAlignment="Stretch">
                    <Grid RowDefinitions="*, *">
                        <Panel Grid.Row="0"
                               Height="20"
                               Background="{Binding Style.ShadowColor,
                                                    Converter={StaticResource ColorConverter},
                                                    ConverterParameter=false}" />
                        <Panel Grid.Row="1"
                               Height="20"
                               Background="{Binding Style.ShadowColor,
                                                    Converter={StaticResource ColorConverter},
                                                    ConverterParameter=true}" />
                    </Grid>
                </Button>
            </Grid>
        </HeaderedContentControl>
    </StackPanel>
    <Window.Styles>
        <Style Selector="HeaderedContentControl">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Border>
                            <StackPanel>
                                <ContentPresenter FontWeight="Bold"
                                                  Margin="0 10 0 2"
                                                  Content="{TemplateBinding Header}" />
                                <Border BorderBrush="{TemplateBinding Foreground}"
                                        BorderThickness="2"
                                        CornerRadius="5">
                                    <ContentPresenter Content="{TemplateBinding Content}"
                                                      Padding="5" />
                                </Border>
                            </StackPanel>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Styles>
</Window>